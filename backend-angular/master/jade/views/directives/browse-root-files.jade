// Recursive template
script(type="text/ng-template" id="browseRootFilesTemplate")
  .btn.btn-secondary(ng-if="ctrl.hasChildren(folder)"  ng-click="ctrl.toggleExpanded(folder)")
    label
      span(ng-class="ctrl.chooseFolderIcon(folder)")
      | &nbsp;
      | {{ folder.name }}
  div(ng-if="ctrl.hasNoChildren(folder)")
    label
      input(type="checkbox" checklist-model="graphsChecklistModel" checklist-value="folder.location")
      | &nbsp;
      span.icon-graph
      | &nbsp;
      | {{ folder.name }}
  // label.radio(ng-repeat="folder in data.treedirsStructure[files[0]].children | filter:hasChildren")
  //   input(type="radio" data-checklist-value="folder")
  //   | {{ folder.name }}
  ul(ng-if="folder.children && folder.isExpanded")
    // li(ng-repeat="folder in folder.children" ng-include="'categoryTree'")
    // label(ng-repeat="folder in folder.children" ng-include="'categoryTree'")
    //   input(type="checkbox" ng-model="folder.isExpanded")
    li(ng-repeat="folder in folder.children" ng-include="'browseRootFilesTemplate'") 


pre folders: {{folders}}
pre graphsChecklistModel: {{graphsChecklistModel}}
ul
  li(ng-repeat="folder in folders" ng-include="'browseRootFilesTemplate'")
